{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport { getToken } from \"../core/storage\";\nimport Toast from \"react-native-toast-message\";\nvar BASE_API_ENDPOINT = \"http://10.0.2.2:5000/ecommerce_api/\";\nexport var updateProductService = function _callee(payload, formData) {\n  var token, product_data;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(getToken());\n\n        case 2:\n          token = _context.sent;\n          product_data = {\n            _id: payload._id,\n            productName: formData.productName,\n            productDescription: formData.productDescription,\n            subDescription: payload.subDescription,\n            img: formData.img,\n            imgs: formData.imgs,\n            trademark: formData.trademark,\n            price: formData.price,\n            category: formData.category,\n            keepTrackProducts: formData.keepTrackProducts,\n            rating: payload.rating,\n            reviews: payload.reviews,\n            isFeatured: payload.isFeatured,\n            createdAt: payload.createdAt,\n            __v: payload.__v,\n            product_id: payload.product_id,\n            id: payload.id\n          };\n          _context.prev = 4;\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(axios.put(BASE_API_ENDPOINT + \"products/\" + payload.id, product_data, {\n            headers: {\n              Authorization: \"Bearer \" + token\n            }\n          }));\n\n        case 7:\n          _context.next = 12;\n          break;\n\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](4);\n          throw _context.t0;\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[4, 9]], Promise);\n};\nexport var deleteProductService = function _callee2(product_id) {\n  var token;\n  return _regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log(\"[deleteProductService] product_id: \", product_id);\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(getToken());\n\n        case 3:\n          token = _context2.sent;\n          fetch(BASE_API_ENDPOINT + \"products/\" + product_id, {\n            method: \"DELETE\",\n            headers: {\n              Authorization: \"Bearer \" + token\n            }\n          }).then(function (res) {\n            return res.json();\n          }).then(function (res) {\n            Toast.show({\n              type: \"success\",\n              position: \"top\",\n              text1: \"Product Deleted\",\n              text2: \"Successful\",\n              visibilityTime: 3000,\n              topOffset: 50\n            });\n          }).catch(function (error) {\n            return console.log(\"Error Message\", error);\n          });\n\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"names":["axios","getToken","Toast","BASE_API_ENDPOINT","updateProductService","payload","formData","token","product_data","_id","productName","productDescription","subDescription","img","imgs","trademark","price","category","keepTrackProducts","rating","reviews","isFeatured","createdAt","__v","product_id","id","put","headers","Authorization","deleteProductService","console","log","fetch","method","then","res","json","show","type","position","text1","text2","visibilityTime","topOffset","catch","error"],"sources":["C:/Users/User/Desktop/myProjectNative/online-ecom-frontend/services/products.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { getToken } from \"../core/storage\";\r\nimport Toast from \"react-native-toast-message\";\r\n\r\nconst BASE_API_ENDPOINT = \"http://10.0.2.2:5000/ecommerce_api/\";\r\n\r\nexport const updateProductService = async (payload, formData) => {\r\n  const token = await getToken();\r\n\r\n  const product_data = {\r\n    _id: payload._id,\r\n    productName: formData.productName,\r\n    productDescription: formData.productDescription,\r\n    subDescription: payload.subDescription,\r\n    img: formData.img,\r\n    imgs: formData.imgs,\r\n    trademark: formData.trademark,\r\n    price: formData.price,\r\n    category: formData.category,\r\n    keepTrackProducts: formData.keepTrackProducts,\r\n    rating: payload.rating,\r\n    reviews: payload.reviews,\r\n    isFeatured: payload.isFeatured,\r\n    createdAt: payload.createdAt,\r\n    __v: payload.__v,\r\n    product_id: payload.product_id,\r\n    id: payload.id,\r\n  };\r\n\r\n  try {\r\n    await axios.put(\r\n      `${BASE_API_ENDPOINT}products/${payload.id}`,\r\n      product_data,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteProductService = async (product_id) => {\r\n  console.log(\"[deleteProductService] product_id: \", product_id);\r\n  const token = await getToken();\r\n\r\n  fetch(`${BASE_API_ENDPOINT}products/${product_id}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      //\"Content-Type\": \"application/json\",\r\n      //Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .then((res) => {\r\n      Toast.show({\r\n        type: \"success\",\r\n        position: \"top\",\r\n        text1: \"Product Deleted\",\r\n        text2: \"Successful\",\r\n        visibilityTime: 3000,\r\n        topOffset: 50,\r\n      });\r\n      // setTimeout(() => {\r\n      //   props.navigation.navigate(\"Products\");\r\n      // }, 500);\r\n    })\r\n    .catch((error) => console.log(\"Error Message\", error));\r\n};\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT;AACA,OAAOC,KAAP,MAAkB,4BAAlB;AAEA,IAAMC,iBAAiB,GAAG,qCAA1B;AAEA,OAAO,IAAMC,oBAAoB,GAAG,iBAAOC,OAAP,EAAgBC,QAAhB;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCACdL,QAAQ,EADM;;QAAA;UAC5BM,KAD4B;UAG5BC,YAH4B,GAGb;YACnBC,GAAG,EAAEJ,OAAO,CAACI,GADM;YAEnBC,WAAW,EAAEJ,QAAQ,CAACI,WAFH;YAGnBC,kBAAkB,EAAEL,QAAQ,CAACK,kBAHV;YAInBC,cAAc,EAAEP,OAAO,CAACO,cAJL;YAKnBC,GAAG,EAAEP,QAAQ,CAACO,GALK;YAMnBC,IAAI,EAAER,QAAQ,CAACQ,IANI;YAOnBC,SAAS,EAAET,QAAQ,CAACS,SAPD;YAQnBC,KAAK,EAAEV,QAAQ,CAACU,KARG;YASnBC,QAAQ,EAAEX,QAAQ,CAACW,QATA;YAUnBC,iBAAiB,EAAEZ,QAAQ,CAACY,iBAVT;YAWnBC,MAAM,EAAEd,OAAO,CAACc,MAXG;YAYnBC,OAAO,EAAEf,OAAO,CAACe,OAZE;YAanBC,UAAU,EAAEhB,OAAO,CAACgB,UAbD;YAcnBC,SAAS,EAAEjB,OAAO,CAACiB,SAdA;YAenBC,GAAG,EAAElB,OAAO,CAACkB,GAfM;YAgBnBC,UAAU,EAAEnB,OAAO,CAACmB,UAhBD;YAiBnBC,EAAE,EAAEpB,OAAO,CAACoB;UAjBO,CAHa;UAAA;UAAA;UAAA,iCAwB1BzB,KAAK,CAAC0B,GAAN,CACDvB,iBADC,iBAC4BE,OAAO,CAACoB,EADpC,EAEJjB,YAFI,EAGJ;YACEmB,OAAO,EAAE;cACPC,aAAa,cAAYrB;YADlB;UADX,CAHI,CAxB0B;;QAAA;UAAA;UAAA;;QAAA;UAAA;UAAA;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAA7B;AAsCP,OAAO,IAAMsB,oBAAoB,GAAG,kBAAOL,UAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UAClCM,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDP,UAAnD;UADkC;UAAA,iCAEdvB,QAAQ,EAFM;;QAAA;UAE5BM,KAF4B;UAIlCyB,KAAK,CAAI7B,iBAAJ,iBAAiCqB,UAAjC,EAA+C;YAClDS,MAAM,EAAE,QAD0C;YAElDN,OAAO,EAAE;cAGPC,aAAa,cAAYrB;YAHlB;UAFyC,CAA/C,CAAL,CAQG2B,IARH,CAQQ,UAACC,GAAD;YAAA,OAASA,GAAG,CAACC,IAAJ,EAAT;UAAA,CARR,EASGF,IATH,CASQ,UAACC,GAAD,EAAS;YACbjC,KAAK,CAACmC,IAAN,CAAW;cACTC,IAAI,EAAE,SADG;cAETC,QAAQ,EAAE,KAFD;cAGTC,KAAK,EAAE,iBAHE;cAITC,KAAK,EAAE,YAJE;cAKTC,cAAc,EAAE,IALP;cAMTC,SAAS,EAAE;YANF,CAAX;UAWD,CArBH,EAsBGC,KAtBH,CAsBS,UAACC,KAAD;YAAA,OAAWf,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6Bc,KAA7B,CAAX;UAAA,CAtBT;;QAJkC;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAA7B"},"metadata":{},"sourceType":"module"}